(this.webpackJsonpgathering=this.webpackJsonpgathering||[]).push([[0],{3:function(e,n,t){e.exports=t(9)},8:function(e,n,t){},9:function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o),i=t(2),a=t.n(i);t(8);function s(e){return{maxX:e.message.maxX,maxY:e.message.maxY,users:e.message.users}}function c(e){var n,t=r.a.createRef(),o=function(){t.current.width=window.innerWidth,t.current.height=window.innerHeight,function(e){var n=e.getContext("2d");n.beginPath(),n.strokeStyle="#FF00FF";for(var t=e.width/10,o=0;o<=e.width;o+=t)n.moveTo(o,0),n.lineTo(o,e.height),n.stroke();for(var r=e.height/10,i=0;i<=e.height;i+=r)n.moveTo(0,i),n.lineTo(e.width,i),n.stroke();n.closePath(),console.log("done")}(t.current)},i=function(e){var o=JSON.parse(e.data);"world"===o.id&&(n=s(o),function(e,n){var t=e.getContext("2d");for(var o in n.users)u(t,n,o);console.log("finished drawing users")}(t.current,n))};return r.a.useEffect((function(){o(),window.addEventListener("resize",o),e.onopen=function(){e.send('{"id": "move","message":"RIGHT"}')},e.onmessage=function(e){i(e)}})),r.a.createElement("div",{id:"wrapper"},r.a.createElement("canvas",{ref:t}))}function u(e,n,t){e.beginPath();var o=n.users[t].position.x/n.maxX*window.innerWidth,r=n.users[t].position.y/n.maxY*window.innerHeight;e.fillStyle=n.users[t].color,console.log(r),e.fillRect(o-10,r-10,20,20),e.stroke(),e.closePath()}var l=function(){return c(new WebSocket("ws://localhost:42069"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[3,1,2]]]);
//# sourceMappingURL=main.186dd0ab.chunk.js.map